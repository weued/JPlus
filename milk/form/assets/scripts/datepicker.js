/** * @author  */imports("Controls.Display.Icon");using("Controls.Core.IDropDownMenuContainer");using("Controls.Form.CombinedTextBox");using("Controls.Form.MonthCalender");var DatePicker = CombinedTextBox.extend(IDropDownMenuContainer).implement({		dropDownMenuWidth: -1,		init: function (options) {		this.base('init');		this.setDropDownMenu(new MonthCalender().on('select', this.onSelect, this));		this.menuButton.on('click', this.toggleDropDownMenu, this);		this.find('.x-button-menu').dom.className = 'x-icon x-icon-calendar';		this.on('focus', this.showDropDownMenu);		this.on('change', this.updateValue);			}, 		format: 'yyyy/M/d',		onSelect: function (value) {		this.setValue(value);				this.hideDropDownMenu();	},		updateValue: function(){		var d = new Date(this.getText());		if(!isNaN(d.getYear()))			this.dropDownMenu.setValue(d);	},		getValue: function(){		return this.dropDownMenu.getValue();	},		setValue: function(value){		this.setText(value.toString(this.format));		this.dropDownMenu.setValue(value);		return this;	}});