<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Milk - J+ Control Library</title>
		
		<link href="../core/assets/styles/base.css" rel="stylesheet" type="text/css">
		<link href="../form/assets/styles/textbox.css" rel="stylesheet" type="text/css">
		<link href="../display/assets/styles/tipbox.css" rel="stylesheet" type="text/css">
		<link href="assets/styles/validator.less" rel="stylesheet/less" type="text/css" />
		
		<script src="../../system/core/assets/scripts/system.js" type="text/javascript"></script>
		<script src="../../system/dom/assets/scripts/element.js" type="text/javascript"></script>
		<script src="../core/assets/scripts/base.js" type="text/javascript"></script>
		<script src="../../system/dom/assets/scripts/validate.js" type="text/javascript"></script>
		<script src="assets/scripts/validator.js" type="text/javascript"></script>
		
		<script src="../../assets/libs/less/less.min.js" type="text/javascript"></script>
		<script src="../../assets/scripts/system.js" type="text/javascript"></script>			
		<style>
			.x-tip {
				margin: 0 20px;
			}
			
			h4 {
				font-weight: bold;
				margin: 10px;
				font-size: 20px;
			}
			
			.x-textbox {
				margin: 5px;
			}
		
		</style>
		
	</head>
	<body>
		<h1>Form/Validator</h1>
	<form id="fff" action="?">

		<h4>required</h4>
		加上 required="required"  表示 必填字段。 如果有错，显示 msg-required 字段。
		
		<div>
			<input value="" type="text" class="x-textbox" required="required" id="b1">
			<span id="b1.tipContainer" class="x-tipbox"></span>
		</div>
		
		<div>
			<input value="" type="text" class="x-textbox" msg-required="必填" msg-success="" required="required" id="b2">
			<span class="x-tipbox x-tipbox-error" id="b2.tipContainer">XXX</span>

		</div>
	
	
		<h4>maxlength</h4>
		加上 maxlength="大小"  表示最大长度。 如果有错，显示 msg-maxlength 字段。 这个字段中 {0}  代表总大小， {1}   代表超过的大小。 {2}    代表已输入大小。
		
		<div>
			<input value="" type="text" class="x-textbox" maxlength="4" id="b3">
			<span id="b3.tipContainer" class="x-tipbox"></span>
		</div>
		
		<div>
			<input value="" type="text" class="x-textbox" msg-maxlength="格式错误，最长是 {0} 个字;超过 {1} 个字" msg-success="成功" maxlength="4" id="b4">

			<span class="x-tipbox x-tipbox-error" id="b4.tipContainer">XXX</span>
		</div>
		
		<div>
			<input value="" type="text" class="x-textbox" counter="b5.counter" maxlength="4" id="b5">
			<span id="b5.counterContainer" class="x-counter"></span>
		</div>
	
		<h4>pattern</h4>
		加上 pattern="正则表达式"  表示 格式。 如果有错，显示 msg-error 字段。<br>

		（XULD友情提示：为了验证全字段，需要添加 ^ $ 表示匹配全值，而不是一部分）
		
		<div>
			<input value="" type="text" class="x-textbox" pattern="^\d+$" id="b6">
			<span id="b6.tipContainer"></span>
		</div>
		
		<div>
			<input value="" type="text" class="x-textbox" msg-error="格式错误" msg-success="成功" pattern="^\d+$" id="b7">
			<span class="x-tipbox x-tipbox-error" id="b7.tipContainer">XXX</span>
		</div>

		<h4>自定义</h4>
		可以使用函数自定义验证， onvalidate="return '错误'" onvalidateerror="错误" onvalidatesuccess="成功" onvalidatecomplete="结果"
		
		<div>
			<input value="" type="text" class="x-textbox" onvalidate="return this.value=='xuld' ? '' : '应该输入 xuld'" msg-success="成功" id="b8">
			<span id="b8.tipContainer"></span>
		</div>
		
		<div>
			<input type="username"  id="b9" class="x-textbox" onvalidate='return this.value ? "" : "不对"' onvalidateerror="alert('ERROR')" onvalidatesuccess="alert('OK')" onvalidatecomplete="alert('validated')">
			<span class="x-tipbox x-tipbox-warn" id="b9.tipContainer">XXX</span>

		</div>

		<h4>异步验证</h4>
		可以使用AJAX验证， onvalidate="/* 异步验证 回调 event.validated('') 显示错误信息 */return null" onvalidateerror="错误" onvalidatesuccess="成功" onvalidatecomplete="结果"
		
		<div>
			<input value="" type="text" class="x-textbox" onvalidate="setTimeout(function(){event.validated('异步验证失败')}, 2000); return null;" msg-success="成功" id="b20">
			<span id="b20.tipContainer"></span>
		</div>
		
		
		<h4>placeholder</h4>
		加上  placeholder="提示"  用来再未输入的时候显示默认文字。
		
		<div>
			<input value="" type="text" class="x-textbox" placeholder="输入" id="b10">
		</div>
		
		<div>
			<input type="text"  id="b11" class="x-textbox">
			<span id="b11.placeholderContainer" style="position: relative; left: -164px; display: inline"><i>XXX</i></span>

		</div>
		
		<h4>内置</h4>
		内置的基本数据类型。  datatype="email"
		
		<div>
			password： <input type="password" value="" class="x-textbox" id="b14">
			<span id="b14.tipContainer"></span>
		</div>
		
		<div>

			password： <input type="password" value="" class="x-textbox" id="b15">
			<span id="b15.tipContainer"></span>
		</div> 
		
		<div>
			email：
			<input datatype="email" value="" class="x-textbox" id="b13">
			<span id="b13.tipContainer"></span>
		</div>
		
		<div>

			number： <input datatype="number" value="" class="x-textbox" id="b16">
			<span class="x-tipbox x-tipbox-error" id="b16.tipContainer"></span>
		</div>
		
		<div>
			phone <input datatype="phone" value="" class="x-textbox" id="b17">
			<span class="x-tipbox x-tipbox-error" id="b17.tipContainer"></span>
		</div>
		
		<div>

			id <input datatype="id" value="" class="x-textbox" id="b18">
			<span class="x-tipbox x-tipbox-error" id="b18.tipContainer"></span>
		</div>
		
		<div>
			letter <input datatype="letter" value="" class="x-textbox" id="b19">
			<span class="x-tipbox x-tipbox-error" id="b19.tipContainer"></span>
		</div>
		
		<input type="submit" value="提交">

	
	</form>
	
	<script>
	
		// 正常使用时，为 <form>  增加  id
		//  调用  Validator.init(formElement);
	
		// 以下为对单个元素初始化
	
		Validator.initTarget('b1');
		Validator.initTarget('b2');
		Validator.initTarget('b3');
		Validator.initTarget('b4');
		Validator.initTarget('b5');
		Validator.initTarget('b6');
		Validator.initTarget('b7');
		Validator.initTarget('b8');
		Validator.initTarget('b9');
		Validator.initTarget('b10');
		Validator.initTarget('b11');
		Validator.initTarget('b13');
		Validator.initTarget('b14');
		Validator.initTarget('b15');
		Validator.initTarget('b16');
		Validator.initTarget('b17');
		Validator.initTarget('b18');
		Validator.initTarget('b19');
		Validator.initTarget('b20');
		
	</script>
		
		
	</body>
</html>